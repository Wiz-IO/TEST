Таблица на структурата на BIN файла
Секция

Описание

Размер (байтове)

Формат

Офсет (примерен)

Хедър

Основна информация за файла

20 (фиксиран)

<IIIII

0

- Брой обекти

Брой записи в таблицата на обектите

4

<I
 (uint32_t)

0

- Размер байткод

Дължина на байткод секцията

4

<I
 (uint32_t)

4

- Размер константи

Дължина на секцията с константи

4

<I
 (uint32_t)

8

- Размер имена

Дължина на секцията с глобални имена

4

<I
 (uint32_t)

12

- Размер локални

Дължина на секцията с локални променливи

4

<I
 (uint32_t)

16

Таблица на обектите

Описва всеки обект (тип и офсет)

8 × брой обекти

<II
 на запис

20

- Тип

Тип на обекта (1=bytecode, 2=int, и т.н.)

4

<I
 (uint32_t)

20 + 8×n

- Офсет

Офсет в съответната секция

4

<I
 (uint32_t)

24 + 8×n

Байткод секция

Суров байткод от co_code

Размер от хедъра

Сурови байтове

20 + 8×обекти

Константи секция

Константи (int, string, float)

Размер от хедъра

Зависи от типа

След байткода

- Цяло число

32-битово цяло число

4

<i
 (int32_t)

Зависи

- Низ (ASCII)

Дължина + данни

2 + дължина

<H
 + байтове

Зависи

- Float

32-битово число с плаваща запетая

4

<f
 (float)

Зависи

Имена секция

Глобални имена от co_names

Размер от хедъра

<H
 + ASCII байтове

След константите

Локални секция

Локални променливи от co_varnames

Размер от хедъра

<H
 + ASCII байтове

След имената

Бележки:
<I = 32-битов unsigned integer (little-endian).

<i = 32-битов signed integer (little-endian).

<H = 16-битов unsigned short (little-endian).

<f = 32-битов float (little-endian).

Офсетите са примерни и зависят от броя обекти и размера на предишните секции.


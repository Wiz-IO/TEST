| Секция                | Описание                                   | Размер (байтове)         | Формат                | Офсет (примерен) |
|-----------------------|--------------------------------------------|--------------------------|-----------------------|------------------|
| **Хедър**             | Основна информация за файла                | 20 (фиксиран)            | `<IIIII`              | 0                |
| - Брой обекти         | Брой записи в таблицата на обектите        | 4                        | `<I` (uint32_t)       | 0                |
| - Размер байткод      | Дължина на байткод секцията                | 4                        | `<I` (uint32_t)       | 4                |
| - Размер константи    | Дължина на секцията с константи            | 4                        | `<I` (uint32_t)       | 8                |
| - Размер имена        | Дължина на секцията с глобални имена       | 4                        | `<I` (uint32_t)       | 12               |
| - Размер локални      | Дължина на секцията с локални променливи   | 4                        | `<I` (uint32_t)       | 16               |
| **Таблица на обектите**| Описва всеки обект (тип и офсет)          | 8 × брой обекти          | `<II` на запис        | 20               |
| - Тип                 | Тип на обекта (1=bytecode, 2=int, и т.н.)  | 4                        | `<I` (uint32_t)       | 20 + 8×n         |
| - Офсет               | Офсет в съответната секция                 | 4                        | `<I` (uint32_t)       | 24 + 8×n         |
| **Байткод секция**    | Суров байткод от co_code                   | Размер от хедъра         | Сурови байтове        | 20 + 8×обекти    |
| **Константи секция**  | Константи (int, string, float)             | Размер от хедъра         | Зависи от типа        | След байткода    |
| - Цяло число          | 32-битово цяло число                       | 4                        | `<i` (int32_t)        | Зависи           |
| - Низ (ASCII)         | Дължина + данни                            | 2 + дължина              | `<H` + байтове        | Зависи           |
| - Float               | 32-битово число с плаваща запетая          | 4                        | `<f` (float)          | Зависи           |
| **Имена секция**      | Глобални имена от co_names                 | Размер от хедъра         | `<H` + ASCII байтове  | След константите |
| **Локални секция**    | Локални променливи от co_varnames          | Размер от хедъра         | `<H` + ASCII байтове  | След имената     |

**Бележки:**
- `<I` = 32-битов unsigned integer (little-endian).
- `<i` = 32-битов signed integer (little-endian).
- `<H` = 16-битов unsigned short (little-endian).
- `<f` = 32-битов float (little-endian).
- Офсетите са примерни и зависят от броя обекти и размера на предишните секции.

```c
#include <stdint.h>

/*
 * Хедър на BIN файла
 * Размер: 20 байта
 */
typedef struct {
    uint32_t object_count;      // Брой обекти в таблицата
    uint32_t bytecode_size;     // Размер на байткод секцията в байтове
    uint32_t constants_size;    // Размер на секцията с константи в байтове
    uint32_t names_size;        // Размер на секцията с глобални имена в байтове
    uint32_t varnames_size;     // Размер на секцията с локални променливи в байтове
} BinHeader;

/*
 * Запис в таблицата на обектите
 * Размер: 8 байта на запис
 */
typedef struct {
    uint32_t type;              // Тип: 1=bytecode, 2=int, 3=string, 4=float, 5=name, 6=varname
    uint32_t offset;            // Офсет в съответната секция (в байтове)
} ObjectEntry;

/*
 * Главна структура за BIN файла
 * Съдържа указатели към секциите в паметта
 */
typedef struct {
    BinHeader header;           // Хедърът на файла
    ObjectEntry* objects;       // Указател към таблицата на обектите
    uint8_t* bytecode;          // Указател към байткод секцията
    uint8_t* constants;         // Указател към секцията с константи
    uint8_t* names;             // Указател към секцията с глобални имена
    uint8_t* varnames;          // Указател към секцията с локални променливи
} BinFile;

/*
 * Структура за достъп до низ (имена и локални променливи)
 */
typedef struct {
    uint16_t length;            // Дължина на низа (от <H>)
    const uint8_t* data;        // Указател към ASCII данните
} StringRef;

/*
 * Обединение за константи
 * Улеснява достъпа до различните типове константи
 */
typedef union {
    int32_t i;                  // Цяло число (type=2)
    float f;                    // Число с плаваща запетая (type=4)
    StringRef str;              // Низ (type=3)
} ConstantValue;

/*
 * Примерна функция за инициализиране на BinFile от буфер в паметта
 */
void init_bin_file(BinFile* bin, uint8_t* data) {
    bin->header = *(BinHeader*)data;  // Първите 20 байта са хедърът
    bin->objects = (ObjectEntry*)(data + 20);  // Таблицата следва хедъра
    uint32_t table_size = bin->header.object_count * sizeof(ObjectEntry);
    bin->bytecode = data + 20 + table_size;
    bin->constants = bin->bytecode + bin->header.bytecode_size;
    bin->names = bin->constants + bin->header.constants_size;
    bin->varnames = bin->names + bin->header.names_size;
}
```
